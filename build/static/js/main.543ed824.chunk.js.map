{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["Filter","nameFilter","handleFilterChange","onInput","type","onChange","Person","name","number","clickToDelete","onClick","Persons","filterPerson","handleDelete","map","value","id","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","baseUrl","axios","delete","newObject","put","get","post","Notification","message","changeClass","className","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","errorMessage","setErrorMessage","getClass","setGetClass","useEffect","console","log","personService","then","response","data","filter","person","toLowerCase","indexOf","event","target","preventDefault","nameObject","nameExist","find","changeNumber","window","confirm","setTimeout","catch","error","concat","personToDel","p","notDelPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.543ed824.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ nameFilter, handleFilterChange }) => {\n  return (\n    <div>\n      filter shown with<input onInput={() => nameFilter} type=\"text\" onChange={handleFilterChange}/>\n    </div>\n  );\n};\n\nexport default Filter;","import React from 'react';\n\nconst Person = ({ name, number, clickToDelete }) => {\n  return (\n          <div>\n            {name} {number} <button onClick={clickToDelete}>delete</button>\n          </div>\n  )\n};\n\nconst Persons = ({ filterPerson, handleDelete }) => {\n  return filterPerson.map(value => <Person key={value.name} name={value.name} number={value.number} clickToDelete={() => {handleDelete(value.id)}}/>)\n}\n\nexport default Persons;","import React from 'react';\n\nconst PersonForm = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return (\n    <form onSubmit={addName}>\n        <div>\n          name: <input type=\"text\" value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>number: <input type=\"text\" value={newNumber} onChange={handleNumberChange}/></div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  );\n};\n\nexport default PersonForm;","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst deletePerson = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { \n  deletePerson: deletePerson,\n  update: update,\n  getAll: getAll,\n  create: create\n}","import React from 'react'\n\nconst Notification = ({message, changeClass}) => {\n  if (message === null) return null\n  return (\n    <div className={changeClass}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport personService from './services/personService';\nimport Notification from './components/Notification';\nimport './index.css'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ getClass, setGetClass ] = useState('')\n\n  useEffect(() => {\n    console.log('effect')\n    personService.getAll()\n        .then(response => {\n          setPersons(response.data)\n        })\n  }, [])\n\n  const addName = event => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const nameExist = persons.find(person => person.name.toLowerCase() === newName.toLowerCase());\n    if (nameExist) {\n      const changeNumber = {...nameExist, number: newNumber}\n      const {id} = nameExist\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personService.update(id, changeNumber)\n        .then(response => \n          setPersons(persons.map(person => \n            person.id !== id ? person : response.data)),\n            setErrorMessage(`${nameExist.name}'s number updated`),\n            setGetClass('completed'),\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000))\n            .catch(error => {\n              setGetClass('error')\n              setErrorMessage(`Information for ${nameExist.name} has already been removed from server`)\n              setPersons(persons.filter(person => \n                person.id !== id))\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000);\n            })\n            \n      }\n      setNewName('')\n      setNewNumber('')\n    } else {\n      personService.create(nameObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setGetClass('completed')\n        setErrorMessage(`Added ${newName}`)\n        setNewName('')\n        setNewNumber('')\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const nameFilter =  persons.filter(person =>\n                      person.name\n                      .toLowerCase()\n                      .indexOf(newFilter) !== -1);\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = id => {\n    const personToDel = persons.find(p => p.id === id)\n    const confirmDel = window.confirm(`Delete ${personToDel.name}?`)\n    if (confirmDel) {\n      personService.deletePerson(id).then(() => {\n        const notDelPerson = persons.filter(value => value.id !== id)\n        setPersons(notDelPerson)\n        setGetClass('completed')\n        setErrorMessage(`${personToDel.name} was deleted`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000);\n      })\n      .catch(error => {\n        setGetClass('error')\n        setErrorMessage(`Information for ${personToDel.name} has already been removed from server`)\n        const notDelPerson = persons.filter(value => value.id !== id)\n        setPersons(notDelPerson)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n        <Notification message={errorMessage} changeClass={getClass}/>\n        <Filter nameFilter={nameFilter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n        <PersonForm addName={addName} newName={newName} handleNameChange={handleNameChange}\n          newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n        <Persons filterPerson={nameFilter} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}